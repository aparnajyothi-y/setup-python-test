name: Reusable Workflow

on:
  workflow_call:
    

jobs:
  cache-job:
    runs-on: self-hosted

    steps:
    - uses: actions/checkout@v4

    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '18.20.4'

    - name: Install pnpm
      run: npm install -g pnpm

    - name: Get Node.js version
      id: node
      run: echo "version=$(node --version | sed 's/^v//')" >> "$GITHUB_OUTPUT"

    - name: Cache PNPM store
      uses: actions/cache@v4
      with:
       path: ~/.pnpm-store
       key: pnpm-store-${{ runner.os }}-${{ steps.node.outputs.version }}-v1

    - name: Show PNPM store path
      run: pnpm store path --silent
